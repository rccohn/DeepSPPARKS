# !/bin/bash

# either run ./container build, delete, or run
CNAME="rccohn/agg-nvdc-v3-deploy:latest"

for arg in "$@"
do
	case $arg in
		-b | --build | build)
		echo "building container"
		sudo docker build -t ${CNAME} .
		shift
		;;
		esac
	case $arg in
		-d| --delete | delete)
		echo "deleting container"
		sudo docker rmi --force ${CNAME} 
		shift
		;;
		esac
	case $arg in # run and attach
		-r | --run | run)
		echo "running container"
		sudo docker run --rm --gpus=all -it --name agg-nvdc  ${CNAME}
		shift
		;;
		esac
	case $arg in # run detached
		-R | --rd | rund)
		echo "running detached container"
		docker run --rm --gpus=all -itd --name agg-nvdc ${CNAME}
		shift
		;;
		esac 
done
